<div class="row row-height">
	<div class="col-md-12 col-height">
			<div class="table-layer-class">
				<div class="row row-height">
					<div class="col-height col-md-4">
<label for="forumtype" id="forumtype_label" class="control-label"><%=label.get('forumtype_label','Type')%></label>
<div class="input-group">
<%-page.html('select',{map: data.entity?.tforumtype, value: data.dataset?.forumtype, id: "forumtype", name: "forumtype", class: "form-control input-md"})%>
<div class="input-group-required"><label class="required">*</label></div></div><div id="forumtype_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumtype_alert','You can not leave this empty')%></div>
					</div>
					<div class="col-height col-md-4">
<label for="forumdialect" id="forumdialect_label" class="control-label"><%=label.get('forumdialect_label','Dialect')%></label>
<div class="input-group">
<%-page.html('select',{map: data.entity?.tdialect, value: data.dataset?.forumdialect, id: "forumdialect", name: "forumdialect", class: "form-control input-md"})%>
<div class="input-group-required"><label class="required">*</label></div></div><div id="forumdialect_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumdialect_alert','You can not leave this empty')%></div>
					</div>
					<div class="col-height col-md-4">
<label for="forummodel" id="forummodel_label" class="control-label"><%=label.get('forummodel_label','Model')%></label>
<div class="input-group">
<%-page.html('select',{map: data.entity?.tmodels, value: data.dataset?.forummodel, id: "forummodel", name: "forummodel", class: "form-control input-md"})%>
<div class="input-group-required"><label class="required">&nbsp;</label></div></div><div id="forummodel_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forummodel_alert','You can not leave this empty')%></div>
					</div>
				</div>
			</div>
	</div>
</div>
<div id="apilayer">
	<div class="row row-height">
		<div class="col-md-12 col-height">
				<div class="table-layer-class">
					<div class="row row-height">
						<div class="col-height col-md-10">
	<label for="forumapi" id="forumapi_label" class="control-label"><%=label.get('forumapi_label','API URL')%></label>
	<div class="input-group"><input type="text" id="forumapi" name="forumapi" class="form-control input-md irequired alert-input" maxlength="150" value="<%=data.dataset?.forumapi%>" /><div class="input-group-required"><label class="required">*</label></div></div><div id="forumapi_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumapi_alert','You can not leave this empty')%></div>
						</div>
					</div>
				</div>
		</div>
	</div>
	<div class="row row-height">
		<div class="col-md-12 col-height">
				<div class="table-layer-class">
					<div class="row row-height">
						<div class="col-height col-md-10">
	<label for="forumsetting" id="forumsetting_label" class="control-label"><%=label.get('forumsetting_label','API Header Setting')%></label>
	<div class="input-group"><textarea id="forumsetting" name="forumsetting" class="form-control input-md" rows="2"><%=data.dataset?.forumsetting%></textarea><div class="input-group-required"><label class="required">&#160;</label></div></div>
	<div id="forumsetting_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumsetting_alert','Invalid setting format')%></div>
	<label id="forumsettinginfo_label"><%=label.get('forumsettinginfo_label','JSON format settings eg. {"key1":"value1","key2":"value2"}')%></label>
						</div>
					</div>
				</div>
		</div>
	</div>
</div>
<div id="dblayer">
	<div id="providedlayer">
		<div id="urllayer">
			<div class="row row-height">
				<div class="col-md-12 col-height">
						<div class="table-layer-class">
							<div class="row row-height">
								<div class="col-height col-md-10">
			<label for="forumurl" id="forumurl_label" class="control-label"><%=label.get('forumurl_label','Connection URL')%></label>
			<div class="input-group"><input type="text" id="forumurl" name="forumurl" class="form-control input-md irequired alert-input" maxlength="250" value="<%=data.dataset?.forumurl%>" /><div class="input-group-required"><label class="required">*</label></div></div><div id="forumurl_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumurl_alert','You can not leave this empty')%></div>
								</div>
							</div>
						</div>
				</div>
			</div>
		</div>
		<div id="unurllayer">
			<div class="row row-height">
				<div class="col-md-12 col-height">
						<div class="table-layer-class">
							<div class="row row-height">
								<div class="col-height col-md-4">
			<label for="forumuser" id="forumuser_label" class="control-label"><%=label.get('forumuser_label','User')%></label>
			<div class="input-group"><input type="text" id="forumuser" name="forumuser" class="form-control input-md irequired alert-input" maxlength="200" value="<%=data.dataset?.forumuser%>" /><div class="input-group-required"><label class="required">*</label></div></div><div id="forumuser_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumuser_alert','You can not leave this empty')%></div>
								</div>
								<div class="col-height col-md-4">
			<label for="forumpassword" id="forumpassword_label" class="control-label"><%=label.get('forumpassword_label','Password')%></label>
			<div class="input-group"><input type="password" id="forumpassword" name="forumpassword" class="form-control input-md irequired alert-input" maxlength="50" value="<%=data.dataset?.forumpassword%>" /><div class="input-group-required"><label class="required">*</label></div></div><div id="forumpassword_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumpassword_alert','You can not leave this empty')%></div>
								</div>
							</div>
						</div>
				</div>
			</div>
			<div class="row row-height">
				<div class="col-md-12 col-height">
						<div class="table-layer-class">
							<div class="row row-height">
								<div class="col-height col-md-4">
			<label for="forumdatabase" id="forumdatabase_label" class="control-label"><%=label.get('forumdatabase_label','Database')%></label>
			<div class="input-group"><input type="text" id="forumdatabase" name="forumdatabase" class="form-control input-md irequired alert-input" maxlength="50" value="<%=data.dataset?.forumdatabase%>" /><div class="input-group-required"><label class="required">*</label></div></div><div id="forumdatabase_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumdatabase_alert','You can not leave this empty')%></div>
								</div>
								<div class="col-height col-md-4">
			<label for="forumhost" id="forumhost_label" class="control-label"><%=label.get('forumhost_label','Host')%></label>
			<div class="input-group"><input type="text" id="forumhost" name="forumhost" class="form-control input-md irequired alert-input" maxlength="50" value="<%=data.dataset?.forumhost%>" /><div class="input-group-required"><label class="required">*</label></div></div><div id="forumhost_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumhost_alert','You can not leave this empty')%></div>
								</div>
								<div class="col-height col-md-4">
			<label for="forumport" id="forumport_label" class="control-label"><%=label.get('forumport_label','Port')%></label>
			<div class="input-group"><input type="text" id="forumport" name="forumport" class="form-control input-md irequired alert-input iint" maxlength="50" value="<%=data.dataset?.forumport%>" /><div class="input-group-required"><label class="required">*</label></div></div><div id="forumport_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumport_alert','You can not leave this empty')%></div>
								</div>
							</div>
						</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row row-height" id="unprovidedlayer">
		<div class="col-md-12 col-height">
				<div class="table-layer-class">
					<div class="row row-height">
						<div class="col-height col-md-12">
	<label id="unprovided_label" class="control-label"><%=label.get('unprovided_label','Does not supported')%></label>
						</div>
					</div>
				</div>
		</div>
	</div>	
</div>
<div class="row row-height">
	<div class="col-md-12 col-height">
			<div class="table-layer-class">
				<div class="row row-height">
					<div class="col-height col-md-12">
<label for="forumdbversion" id="forumdbversion_label" class="control-label"><%=label.get('forumdbversion_label','Database Version')%></label>
<div class="input-group"><input type="text" id="forumdbversion" name="forumdbversion" class="form-control input-md" maxlength="250" value="<%=data.dataset?.forumdbversion%>" /><div class="input-group-required"><label class="required">&nbsp;</label></div></div><div id="forumdbversion_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumdbversion_alert','You can not leave this empty')%></div>
					</div>
				</div>
			</div>
	</div>
</div>

<div id="fsagenttablayer">
	<ul id="fsagenttabbar" class="nav nav-tabs navbar-left nav-tabbar-agent" role="tablist">
<%	
	let agents = data.entity?.tagent;
	if(agents) {
		let firstflag = true;
		for(let agent in agents) {
			let agentname = agents[agent];
			let activing = firstflag ? "active":"";
			agent = agent.toLowerCase();
%>
		<li class="nav-item active" role="presentation">
			<a id="linker_<%=agent%>" class="nav-link agent-link <%=activing%>" href="#entryagent_<%=agent%>" data-toggle="tab" data-target="#entryagent_<%=agent%>" role="tab" aria-controls="entryagent_<%=agent%>" aria-selected="<%=firstflag%>"><%=agentname%></a>
  		</li>
<%
			firstflag = false;
		}
	}
%>
	</ul>
</div>
<div id="entrytabagent" class="tab-content">
<%
	if(agents) {
		let firstflag = true;
		for(let agent in agents) {
			let agentname = agents[agent];
			let activing = firstflag ? "show active":"";
			agent = agent.toLowerCase();
			let forumpromptname = "forumprompt_"+agent;
			let forumpromptdata = data.dataset[forumpromptname];
			let forumtablename = "forumtable_"+agent;
			let forumtabledata = data.dataset[forumtablename];
%>
<div id="entryagent_<%=agent%>" class="tab-pane fade <%=activing%>">
	<div class="row row-height">
		<div class="col-md-12 col-height">
				<div class="table-layer-class">
					<div class="row row-height">
						<div class="col-height col-md-12">
	<label for="<%=forumpromptname%>" id="forumprompt_label_<%=agent%>" class="control-label"><%=label.get('forumprompt_label','Answer Prompt Info')%></label>
	<div class="input-group"><textarea id="<%=forumpromptname%>" name="<%=forumpromptname%>" class="form-control input-md" rows="2"><%=forumpromptdata%></textarea><div class="input-group-required"><label class="required">&#160;</label></div></div><div id="forumprompt_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumprompt_alert','You can not leave this empty')%></div>
						</div>
					</div>
				</div>
		</div>
	</div>
	<div class="row row-height">
		<div class="col-md-12 col-height">
				<div class="table-layer-class">
					<div class="row row-height">
						<div class="col-height col-md-12">
	<label for="<%=forumtablename%>" id="forumtable_label_<%=agent%>" class="control-label"><%=label.get('forumtable_label','Table Schema Info')%></label>
	<div class="input-group"><textarea id="<%=forumtablename%>" name="<%=forumtablename%>" class="form-control input-md irequired alert-input" rows="15"><%=forumtabledata%></textarea><div class="input-group-required"><label class="required">*</label></div></div><div id="forumtable_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('forumtable_alert','You can not leave this empty')%></div>
						</div>
					</div>
				</div>
		</div>
	</div>	
</div>
<%
			firstflag = false;
		}
	}
%>
</div>

<div class="row row-height">
	<div class="col-md-12 col-height">
			<div class="table-layer-class">
				<div class="row row-height">
					<div class="col-height col-md-12">
<label for="forumquestions" id="forumquestions_label" class="control-label"><%=label.get('forumquestions_label','Questions')%></label>
<a href="#0" id="addquestion" class="btn btn-primary btn-md" title="Add Question" tabindex="-1"><i class="fa fa-plus fa-btn-icon" aria-hidden="true"></i></a>
<div id="questionslayer">
	<%	let questions = data.dataset?.questions;
	let rowcount = 5;
	if(questions && questions.length>0) { 
		rowcount = 5 - questions.length;
		for(let index=0; index < questions.length; index++) { 
			let item = questions[index]; %>
			<div class="quest-input"><input type="text" name="question" class="form-control input-md" value="<%=item%>"/></div>
		<%}
	}
	for(let index=0; index < rowcount; index++) { %>
		<div class="quest-input"><input type="text" name="question" class="form-control input-md" value=""/></div>
<%	}	%>
</div>						
					</div>
				</div>
			</div>
	</div>
</div>

<div class="row row-height">
	<div class="col-md-12 col-height">
			<div class="table-layer-class" id="webhooklayer">
				<div class="row row-height">
					<div class="col-height col-md-2">
						<div class="checkbox checkbox form-check">
							<input type="checkbox" value="1" id="hookflag" name="hookflag" class="form-control input-md form-check-input" <%=page.checked('1',data.dataset?.hookflag)%> /><label for="hookflag" id="hookflag_label" class="control-label form-check-label"><%=label.get('hookflag_label','Web Hook')%></label>
						</div>
					</div>
					<div class="col-height col-md">
						<div class="input-group">
							<input type="text" id="webhook" name="webhook" class="form-control input-md" value="<%=data.dataset.webhook%>" maxlength="200" />
							<div class="input-group-required"><label class="required"></label></div>
						</div>
						<div id="webhook_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('webhook_alert','You can not leave this empty')%></div>
					</div>
				</div>
			</div>
	</div>
</div>
<div class="row row-height">
	<div class="col-md-12 col-height">
			<div class="table-layer-class">
				<div class="row row-height">
					<div class="col-height col-md-12">
<label for="classifyprompt" id="classifyprompt_label" class="control-label"><%=label.get('classifyprompt_label','Classify Prompt')%></label>
<div class="input-group"><textarea type="text" id="classifyprompt" name="classifyprompt" class="form-control input-md irequired" rows="3"><%=data.dataset.classifyprompt%></textarea><span></span><div class="input-group-required"><label class="required">&#160;</label></div></div><div id="classifyprompt_alert" role="alert" class="has-feedback has-error fa-hidden"><%=label.get('classifyprompt_alert','You can not leave this empty')%></div>
					</div>
				</div>
			</div>
	</div>
</div>						
